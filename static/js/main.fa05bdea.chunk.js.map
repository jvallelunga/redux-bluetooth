{"version":3,"sources":["../../../src/webapp/actions/types.js","../../../src/webapp/central/status.js","../../../src/common/config/index.js","../../../src/webapp/central/index.js","../../../src/webapp/actions/index.js","../../../src/webapp/actions/actions.js","../../../src/webapp/central/central.js","../../../src/common/encoder/index.js","../../../src/webapp/middleware/index.js","../../../src/webapp/reducers/initial.js","../../../src/webapp/reducers/index.js","../../../src/webapp/index.js","../../../src/webapp/store/index.js","actions/types.js","app/component.jsx","app/index.js","actions/index.js","index.js"],"names":["BLUETOOTH_CONNECTING","BLUETOOTH_CONNECTED","BLUETOOTH_DISCONNECTING","BLUETOOTH_DISCONNECTED","BLUETOOTH_ERROR","BLUETOOTH_READ","BLUETOOTH_SYNC","BLUETOOTH_SEND","BLUETOOTH_CONNECT_REQUEST","BLUETOOTH_DISCONNECT_REQUEST","BLUETOOTH_SEND_REQUEST","BLUETOOTH_SYNC_REQUEST","INIT","DISCONNECTED","DISCONNECTING","CONNECTING","CONNECTED","ERROR","CONFIG","SERVICE_UUID","CHARACTERISTIC_UUID","CENTRAL_CONFIG","replace","_window","window","central_navigator","navigator","TextDecoder","TextEncoder","webapp_actions","central","TYPES","syncState","state","type","payload","sendAction","action","request","write","connectStore","name","dispatch","connect","then","handler","disconnectStore","disconnect","id","bluetooth","_ref","_ref2","encode","decode","server","characteristic","message","configuration","limit","isConnected","connected","listener","callback","event","chunk","target","value","concat","startsWith","endsWith","json","JSON","parse","slice","length","requestDevice","filters","services","device","gatt","getPrimaryService","service","getCharacteristic","startNotifications","eventListener","addEventListener","Promise","reject","stringify","key","dataSize","writes","i","next","end","Math","min","data","buffer","Uint8Array","set","push","reduce","promise","writeValue","resolve","Date","now","encoder","decoder","string","Encoder","types_namespaceObject","REQUESTS","middleware","actions","arguments","undefined","store","includes","initial","status","reducers_status","reducers_remote","console","log","src_webapp_actions","createSyncStore","reducer","middlewares","enhancers","redux_es","apply","__REDUX_DEVTOOLS_EXTENSION__","Object","remote","local","INCREMENT","DECREMENT","App","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handlerConnect","bind","assertThisInitialized","onConnect","_this$props","counter","quote","onIncrement","onDecrement","nCounter","Number","className","react_default","a","createElement","onClick","PureComponent","defaultProps","mapAction","predatorQuotes","random","objectSpread","Component","keys","render","es","app","document","getElementById"],"mappings":"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","file":"static/js/main.fa05bdea.chunk.js","sourcesContent":["export var BLUETOOTH_CONNECTING = '@@bluetooth/CONNECTING';\nexport var BLUETOOTH_CONNECTED = '@@bluetooth/CONNECTED';\nexport var BLUETOOTH_DISCONNECTING = '@@bluetooth/DISCONNECTING';\nexport var BLUETOOTH_DISCONNECTED = '@@bluetooth/DISCONNECTED';\nexport var BLUETOOTH_ERROR = '@@bluetooth/ERROR';\nexport var BLUETOOTH_READ = '@@bluetooth/READ';\nexport var BLUETOOTH_SYNC = '@@bluetooth/SYNC';\nexport var BLUETOOTH_SEND = '@@bluetooth/SEND';\nexport var BLUETOOTH_CONNECT_REQUEST = '@@bluetooth/CONNECT_REQUEST';\nexport var BLUETOOTH_DISCONNECT_REQUEST = '@@bluetooth/DISCONNECT_REQUEST';\nexport var BLUETOOTH_SEND_REQUEST = '@@bluetooth/SEND_REQUEST';\nexport var BLUETOOTH_SYNC_REQUEST = '@@bluetooth/SYNC_REQUEST';","export var INIT = 'INIT';\nexport var DISCONNECTED = 'DISCONNECTED';\nexport var DISCONNECTING = 'DISCONNECTING';\nexport var CONNECTING = 'CONNECTING';\nexport var CONNECTED = 'CONNECTED';\nexport var ERROR = 'ERROR';","var CONFIG = {\n  SERVICE_UUID: '13333333-3333-3333-3333-333333333337',\n  CHARACTERISTIC_UUID: '13333333-3333-3333-3333-333333330001'\n};\nexport var CENTRAL_CONFIG = CONFIG;\nexport var BLENO_CONFIG = {\n  SERVICE_UUID: CONFIG.SERVICE_UUID.replace(/-/g, ''),\n  CHARACTERISTIC_UUID: CONFIG.CHARACTERISTIC_UUID.replace(/-/g, ''),\n  DESCRIPTOR_UUID: '2901'\n};\nexport var COMMON_TYPES = {\n  BLUETOOTH_SYNC_REQUEST: '@@bluetooth/SYNC_REQUEST'\n};","/* global window */\nimport { CENTRAL_CONFIG } from '../../common/config';\nimport Encoder from '../../common/encoder';\nimport Central from './central';\nvar _window = window,\n    navigator = _window.navigator,\n    TextDecoder = _window.TextDecoder,\n    TextEncoder = _window.TextEncoder;\nexport default new Central(\"\".concat(Date.now()).slice(4, 13), // Client ID\nnavigator.bluetooth, Encoder({\n  TextEncoder: TextEncoder,\n  TextDecoder: TextDecoder\n}), CENTRAL_CONFIG);","import central from '../central';\nimport * as TYPES from './types';\nimport Actions from './actions';\nexport default Actions(central, TYPES);","export default function Actions(central, TYPES) {\n  var syncState = function syncState(state) {\n    return {\n      type: TYPES.BLUETOOTH_SYNC,\n      payload: state\n    };\n  };\n\n  var sendAction = function sendAction(action) {\n    return {\n      type: TYPES.BLUETOOTH_SEND_REQUEST,\n      request: function request() {\n        return central.write(action);\n      }\n    };\n  };\n\n  var connectStore = function connectStore(name) {\n    return {\n      type: TYPES.BLUETOOTH_CONNECT_REQUEST,\n      request: function request(dispatch) {\n        dispatch({\n          type: TYPES.BLUETOOTH_CONNECTING\n        });\n        return central.connect(name).then(function () {\n          return central.handler(function (state) {\n            return dispatch(syncState(state));\n          });\n        }).then(function () {\n          return dispatch({\n            type: TYPES.BLUETOOTH_CONNECTED\n          });\n        }).then(function () {\n          return dispatch(sendAction({\n            type: TYPES.BLUETOOTH_SEND_REQUEST,\n            request: function request() {\n              return central.write({\n                type: TYPES.BLUETOOTH_SYNC_REQUEST\n              });\n            }\n          }));\n        });\n      }\n    };\n  };\n\n  var disconnectStore = function disconnectStore() {\n    return {\n      type: TYPES.BLUETOOTH_DISCONNECT_REQUEST,\n      request: function request(dispatch) {\n        dispatch({\n          type: TYPES.BLUETOOTH_DISCONNECTING\n        });\n        central.disconnect();\n        dispatch({\n          type: TYPES.BLUETOOTH_DISCONNECTED\n        });\n      }\n    };\n  };\n\n  return {\n    connectStore: connectStore,\n    disconnectStore: disconnectStore,\n    syncState: syncState,\n    sendAction: sendAction\n  };\n}","export default function Central(id, bluetooth, _ref, _ref2) {\n  var encode = _ref.encode,\n      decode = _ref.decode;\n  var SERVICE_UUID = _ref2.SERVICE_UUID,\n      CHARACTERISTIC_UUID = _ref2.CHARACTERISTIC_UUID;\n  var state = {\n    server: null,\n    characteristic: null,\n    message: '',\n    configuration: {\n      limit: 20 // HARDCODE: https://devzone.nordicsemi.com/question/3860/largest-allowed-setting-for-variable-length-characteristic/\n\n    },\n    id: id\n  };\n\n  var isConnected = function isConnected() {\n    return state.server && state.server.connected;\n  };\n\n  var connect = function connect(name) {\n    return bluetooth.requestDevice({\n      filters: [{\n        services: [SERVICE_UUID],\n        name: name\n      }]\n    }).then(function (device) {\n      state.device = device;\n      return device.gatt.connect();\n    }).then(function (server) {\n      state.server = server;\n      return server.getPrimaryService(SERVICE_UUID);\n    }).then(function (service) {\n      return service.getCharacteristic(CHARACTERISTIC_UUID);\n    }).then(function (characteristic) {\n      state.characteristic = characteristic;\n    });\n  };\n\n  var disconnect = function disconnect() {\n    if (isConnected()) {\n      state.device.gatt.disconnect();\n    }\n  };\n\n  var listener = function listener(callback) {\n    return function (event) {\n      var chunk = decode(event.target.value);\n      var message = \"\".concat(state.message).concat(chunk);\n\n      if (message.startsWith('[[[') && message.endsWith(']]]')) {\n        var json = JSON.parse(message.slice(3, message.length - 3));\n        callback(json);\n        state.message = '';\n      } else if (message.startsWith('|||') && message.endsWith('|||')) {\n        state.message = '';\n      } else {\n        state.message = message;\n      }\n\n      return state.message;\n    };\n  };\n\n  var handler = function handler(callback) {\n    return state.characteristic.startNotifications().then(function () {\n      var eventListener = listener(callback);\n      state.characteristic.addEventListener('characteristicvaluechanged', eventListener);\n      return state.configuration;\n    });\n  };\n\n  var write = function write(action) {\n    if (!state.server || !state.server.connected || !state.characteristic) return Promise.reject();\n    var stringify = \"[[[\".concat(JSON.stringify(action), \"]]]\");\n    var message = encode(stringify);\n    var key = encode(\"\".concat(state.id, \":\"));\n    var dataSize = state.configuration.limit - key.length;\n    var writes = [];\n    var i = 0;\n\n    do {\n      var next = i + dataSize;\n      var end = Math.min(next, message.length);\n      var data = message.slice(i, end);\n      var buffer = new Uint8Array(key.length + data.length);\n      buffer.set(key, 0);\n      buffer.set(data, key.length);\n      writes.push(buffer);\n      i = next;\n    } while (i < message.length); // Serialize Promises\n\n\n    return writes.reduce(function (promise, chunk) {\n      return promise.then(function () {\n        return state.characteristic.writeValue(chunk);\n      });\n    }, Promise.resolve());\n  };\n\n  return {\n    connected: isConnected(),\n    connect: connect,\n    disconnect: disconnect,\n    handler: handler,\n    write: write,\n    listener: listener\n  };\n}","export default function Encoder(_ref) {\n  var TextEncoder = _ref.TextEncoder,\n      TextDecoder = _ref.TextDecoder;\n  var encoder = new TextEncoder('utf-8');\n  var decoder = new TextDecoder('utf-8');\n\n  var encode = function encode(string) {\n    return encoder.encode(string);\n  };\n\n  var decode = function decode(data) {\n    return decoder.decode(data);\n  };\n\n  return {\n    encode: encode,\n    decode: decode\n  };\n}","import ACTIONS from '../actions';\nimport * as TYPES from '../actions/types';\nvar sendAction = ACTIONS.sendAction;\nvar BLUETOOTH_CONNECT_REQUEST = TYPES.BLUETOOTH_CONNECT_REQUEST,\n    BLUETOOTH_DISCONNECT_REQUEST = TYPES.BLUETOOTH_DISCONNECT_REQUEST,\n    BLUETOOTH_SEND_REQUEST = TYPES.BLUETOOTH_SEND_REQUEST;\nvar REQUESTS = [BLUETOOTH_CONNECT_REQUEST, BLUETOOTH_DISCONNECT_REQUEST, BLUETOOTH_SEND_REQUEST];\nexport default (function () {\n  var actions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (typeof action !== 'object') {\n          return next(action);\n        }\n\n        var type = action.type;\n        if (REQUESTS.includes(type)) action.request(store.dispatch);\n        if (actions.includes(type)) store.dispatch(sendAction(action));\n        return next(action);\n      };\n    };\n  };\n});","import * as STATUS from '../central/status';\nexport default {\n  status: STATUS.INIT\n};","import * as TYPES from '../actions/types';\nimport * as STATUS from '../central/status';\nimport initial from './initial';\nexport function status() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial.status;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type;\n\n  switch (type) {\n    case TYPES.BLUETOOTH_CONNECTING:\n      return STATUS.CONNECTING;\n\n    case TYPES.BLUETOOTH_CONNECTED:\n      return STATUS.CONNECTED;\n\n    case TYPES.BLUETOOTH_DISCONNECTING:\n      return STATUS.DISCONNECTING;\n\n    case TYPES.BLUETOOTH_DISCONNECTED:\n      return STATUS.DISCONNECTED;\n\n    default:\n      return state;\n  }\n}\nexport function remote() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var _ref2 = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref2.type,\n      payload = _ref2.payload;\n\n  console.log('remote: ', type, payload);\n\n  switch (type) {\n    case TYPES.BLUETOOTH_SYNC:\n      return payload;\n\n    default:\n      return state;\n  }\n}","import * as TYPES from './actions/types';\nimport * as STATUS from './central/status';\nimport ACTIONS from './actions';\nimport MIDDLEWARE from './middleware';\nimport * as REDUCERS from './reducers';\nimport STORE from './store';\nvar connectStore = ACTIONS.connectStore,\n    disconnectStore = ACTIONS.disconnectStore;\nexport var types = TYPES;\nexport var status = STATUS;\nexport var actions = {\n  connectStore: connectStore,\n  disconnectStore: disconnectStore\n};\nexport var reducers = REDUCERS;\nexport var middleware = MIDDLEWARE;\nexport var createSyncStore = STORE;","/* global window */\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport middleware from '../middleware';\nimport { status, remote } from '../reducers';\nexport default (function (actions) {\n  var reducer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return true;\n  };\n  var middlewares = [middleware(actions)];\n  var enhancers = [applyMiddleware.apply(void 0, middlewares)];\n  /* eslint-disable no-underscore-dangle */\n\n  if (typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION__) {\n    enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n  }\n  /* eslint-enable */\n\n\n  return createStore(combineReducers({\n    status: status,\n    remote: remote,\n    local: reducer\n  }), compose.apply(void 0, enhancers));\n});","export const INCREMENT = 'INCREMENT';\nexport const DECREMENT = 'DECREMENT';\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.css';\n\nexport default class App extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handlerConnect = this.handlerConnect.bind(this);\n  }\n\n  handlerConnect() {\n    const { onConnect } = this.props;\n    onConnect('Counter');\n  }\n\n  render() {\n    const { counter, quote, status, onIncrement, onDecrement } = this.props;\n\n    const nCounter = Number(counter);\n    let className = 'app-counter';\n    if (nCounter > 0) className += ' app-counter--positive';\n    if (nCounter < 0) className += ' app-counter--negative';\n\n    return (\n      <div className=\"app\">\n        {status === 'CONNECTED' &&\n          <div>\n            <span className={className}>{counter}</span>\n            <br />\n            <span>version: 7</span>\n            <br />\n            <span>{quote}</span>\n          </div>}\n        <div className=\"app-actions\">\n          {status !== 'CONNECTED' &&\n            <button className=\"app-actions__buton\" onClick={this.handlerConnect}>\n              Connect\n            </button>}\n          {status === 'CONNECTED' &&\n            <button className=\"app-actions__buton\" onClick={onIncrement}>\n              +\n            </button>}\n          {status === 'CONNECTED' &&\n            <button className=\"app-actions__buton\" onClick={onDecrement}>\n              -\n            </button>}\n        </div>\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  counter: PropTypes.number,\n  quote: PropTypes.string,\n  status: PropTypes.string,\n  onConnect: PropTypes.func,\n  onIncrement: PropTypes.func,\n  onDecrement: PropTypes.func,\n};\n\nApp.defaultProps = {\n  counter: 0,\n  quote: '',\n  status: '',\n  onConnect: () => true,\n  onIncrement: () => true,\n  onDecrement: () => true,\n};\n","import { connect } from 'react-redux';\nimport { actions } from 'redux-bluetooth/src/webapp';\n\nimport { increment, decrement } from '../actions';\n\nimport Component from './component';\n\nconst mapState = (state) => {\n  const { status, remote } = state;\n  return ({\n    status,\n    ...remote,\n  });\n};\n\nconst mapAction = {\n  onConnect: actions.connectStore,\n  onIncrement: increment,\n  onDecrement: decrement,\n};\n\nexport { Component };\nexport default connect(mapState, mapAction)(Component);\n","import predatorQuotes from 'predator-quotes';\nimport * as TYPES from './types';\n\nexport function increment() {\n  return {\n    type: TYPES.INCREMENT,\n    payload: predatorQuotes.random(),\n  };\n}\n\nexport function decrement() {\n  return {\n    type: TYPES.DECREMENT,\n    payload: predatorQuotes.random(),\n  };\n}\n","/* global document */\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { createSyncStore } from 'redux-bluetooth/src/webapp';\n\nimport './index.css';\nimport * as TYPES from './actions/types';\n\nimport App from './app';\n\nconst ACTIONS = Object.keys(TYPES);\n\n/* eslint-disable react/jsx-filename-extension */\nconst store = createSyncStore(ACTIONS);\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n/* eslint-enable */\n"],"sourceRoot":""}